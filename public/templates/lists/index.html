<!-- START INDEX HEADER -->
<div class="row" id="index-header">
  <!-- SELECTED TAGS -->
  <div class="col-xs-12">
    <div class="row">
      <div class="col-xs-6">
        <div ng-repeat="tag in selectedTags" class="filtered-tag">
          <h5>{{ tag.name }}</h5>
        </div>
      </div>
    </div>

  </div>
  <!-- END SELECTED TAGS -->

  <!-- TAG FILTER FORM -->
  <div class="col-xs-5">
    <div class="row">
      <label id="tag-filter-label" class="col-xs-5">Filter by Tag</label>
      <input id="tag-search" type="search" ng-model="tagSearch" class="col-xs-7 form-control form-horizontal">
    </div>
    
    <ul ng-show="filtering()">
      <li class="filtered-tag" ng-repeat="tag in tags | filter:{name: tagSearch}" ng-click="filterByTag(tag)">{{ tag.name }}</li>
    </ul>

  </div>
  <!-- END TAG FILTER FORM -->
  

  <!-- INDEX FILTER SELECT -->
  <div class="col-xs-3">
    <select class="form-control" id="filter-lists">
      <option ng-selected>Popular</option>
    </select>

  </div>

  <!-- FORM BUTTONS  -->
  <div class="col-xs-4">
    <button id="new-list-btn" class="btn-primary btn" ng-if="currentUser" ng-click="showNewList()">New List</button>
          
    <a class="btn-primary btn-lg btn" ng-if="!currentUser" href="/users/sign_in">New List</a>
  </div>



  

</div>
<!-- END INDEX HEADER -->

<!-- LISTS HERE -->
<div class="row" id="lists">
  <div ng-repeat="list in lists" class="col-xs-12 col-lg-6">
    <div class="list">
      <!-- top row -->
      <div class="row">
        <div class="col-xs-3">
          <p class="vote-count">{{ voteCount(list) }}</p>

          
        </div>

        <div class="col-xs-3">
          <i ng-click="upvote(list)" class="fa fa-arrow-up fa-2x" aria-hidden="true"></i>
          <i ng-click="downvote(list)" class="fa fa-arrow-down fa-2x" aria-hidden="true"></i>
        </div>


        <div class="col-xs-3">
          <i ng-click="handleFavorite(list)" class="fa fa-star fa-2x" aria-hidden="true"></i>
        </div>

        <div class="col-xs-3">
          <button ng-click="browseList(list)" class="btn btn-primary">Browse</button>
        </div>
      </div>

      <div class="row">
        <div class="col-xs-12">
          <h2 class="text-center">{{ list.title }}</h2><br>
        </div>
      </div>

      <div class="row">
        <div class="col-xs-12">
          <p class="text-center">Published by {{ list.user.username }}</p>
        </div>
      </div>

      <div class="row">
        <div class="col-xs-12">
          <p class="text-center">{{ list.description }}</p>
        </div>
      </div>
      
      
      
      
      

      <div class="row">
        <div ng-repeat="link in listLinks(list)" class="col-xs-12">
          <p class="text-center link-url">{{ link.url }}</p>
          <p class="text-center">{{ link.description }}</p>
        </div>
      </div>

      <div class="row">
        <div class="col-xs-12">
          <button class="btn btn-primary center-block" ui-sref="lists.show({id: list.id})">View Comments</button>
        </div>
      </div>
    </div>
  </div>
</div>